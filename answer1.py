import pandas as pd
import numpy as np

from Agglomerative_clustering import Agglomeration


class Solution:
    __slots__ = 'data'

    def __init__(self, filename):
        self.read_data(filename)

    def read_data(self, filename):
        self.data = pd.read_csv(filename, delimiter=',')


    def get_correlation(self):
        data = self.data.copy()

        correlation_matrix = np.corrcoef(data[1:])

        return correlation_matrix

s = Solution('HW_PCA_SHOPPING_CART_v8961.csv')
a = Agglomeration('HW_PCA_SHOPPING_CART_v8961.csv')
a.run_aglomretive_clustering()
a.plot_dendogram()
a.kmeans_clustering()
#a.get_all_cluster_counts()
"""

Cluster Members and centroids after Agglomeration 

[3.05446873 4.10040515 4.28205399 5.88364677 0.66512216 0.56423374
 7.8827235  6.54329351 4.69435919 5.60324527 4.42736708 2.21933204
 6.91990658 0.80153113 0.39196831 0.35263551 4.41724706 0.73711823
 6.18376245 4.0720763 ]
[[0, 782, 1, 109, 295, 464, 5, 11, 664, 30, 167, 415, 113, 121, 127, 585, 389, 420, 225, 479, 149, 638, 66, 748, 276, 362, 484, 564, 717, 123, 408, 733, 675, 101, 370, 551, 738, 848, 194, 116, 119, 462, 553, 346, 687, 277, 444, 459, 775, 103, 359, 467, 228, 527, 40, 201, 230, 510, 142, 56, 12, 497, 76, 762, 758, 792, 371, 582, 473, 392, 756, 517, 52, 163, 252, 476, 284, 612, 363, 725, 799, 580, 144, 718, 593, 386, 535, 37, 89, 124, 849, 423, 703, 732, 344, 818, 666, 411, 283, 478, 374, 489, 150, 388, 151, 293, 198, 790, 83, 689, 813, 338, 81, 646, 730, 407, 257, 773, 321, 700, 626, 387, 302, 597, 272, 279, 604, 697, 786, 731, 521, 746, 258, 380, 780, 145, 356, 747, 774, 845, 477]



[5.45877713 1.73523611 0.50957201 6.07426064 2.00364206 4.81644156
 5.702956   0.92744798 3.93858704 7.19458511 1.94245048 3.25896961
 6.77848147 2.42300155 0.92609982 1.59777771 7.73887634 6.05136986
 8.65591165 9.28113948]
[2, 333, 44, 682, 803, 156, 82, 465, 48, 173, 315, 254, 95, 483, 80, 529, 188, 610, 678, 595, 61, 588, 801, 86, 355, 518, 817, 106, 587, 622, 755, 168, 663, 112, 396, 468, 618, 137, 206, 463, 486, 796, 834, 528, 543, 171, 414, 560, 110, 327, 557, 568, 63, 310, 674, 125, 514, 634, 98, 354, 300, 719, 523, 220, 135, 304, 442, 635, 639, 550, 547, 159, 652, 136, 628, 736, 141, 298, 734, 804, 668, 251, 720, 439, 187, 519, 795, 577, 808, 835, 699, 559, 248, 404, 317, 93, 232, 241, 637, 713, 688, 766, 36, 162, 208, 87, 421, 301, 485, 617, 347, 160, 27, 772, 200]

 
 


[1.83085454 6.73778377 8.86482544 4.6378393  4.45523691 0.56966893
 3.1832821  2.17647314 4.95494613 6.26475739 5.99770392 5.51011967
 3.90302526 1.3953594  0.74728478 2.32931579 0.65700655 0.98551227
 7.91969098 5.57322073]
[3, 269, 449, 14, 64, 288, 353, 139, 600, 754, 520, 212, 491, 531, 42, 275, 828, 708, 836, 800, 660, 250, 416, 742, 345, 723, 102, 169, 623, 264, 684, 841, 31, 297, 589, 797, 34, 649, 340, 308, 195, 79, 268, 351, 554, 204, 760, 592, 764, 43, 319, 456, 176, 475, 322, 369, 115, 698, 556, 72, 153, 207, 19, 410, 741, 237, 60, 267, 570, 400, 172, 667, 575, 238, 609, 175, 789, 807, 352, 140, 289, 793, 437, 211, 412, 222, 546, 548, 132, 146, 331, 616, 111, 273, 591, 681, 218, 686, 791, 263, 90, 576, 728, 653, 45, 662, 596, 221, 526, 802, 590, 311, 825, 10, 768, 199, 391, 499, 253, 287, 709]


[3.82986632 4.7658345  7.45417897 4.90769717 8.261943   0.22063008
 5.54736712 2.39587623 4.57219413 7.30623701 4.26357508 2.16248843
 2.81721832 1.52226464 1.93759414 8.49078542 4.31154483 2.17658411
 1.15502615 0.39495563]
[4, 155, 839, 8, 67, 794, 217, 692, 581, 329, 767, 501, 39, 438, 669, 186, 446, 644, 712, 364, 648, 431, 138, 453, 246, 309, 457, 563, 117, 770, 164, 189, 358, 516, 20, 744, 749, 524, 647, 21, 97, 323, 38, 492, 558, 46, 469, 537, 108, 152, 450, 683, 451, 837, 84, 130, 193, 673, 68, 192, 606, 59, 598, 696, 350, 435, 482, 694, 471, 640, 305, 235, 613, 398, 727, 460, 729, 233, 104, 299, 540, 335, 434, 88, 318, 348, 99, 229, 605, 672, 154, 382, 620, 599, 58, 53, 306, 373, 810, 73, 191, 219, 92, 454, 214, 216, 429, 425, 750, 583, 320, 261, 538, 819, 820, 57, 185, 643, 533, 197, 203, 493, 821, 816, 349, 7, 210, 574, 15, 641, 658, 292, 181, 657, 846, 651, 85, 809, 566, 270, 642, 665, 721, 502, 779, 118, 602, 170, 24, 785, 183, 614, 441, 571, 621, 693, 706, 470, 608, 752, 25, 685, 381, 806, 174, 824, 196, 286, 330, 737, 833, 503, 633, 474, 91, 265, 831, 184, 788, 422, 751]


[6.48866051 4.12210057 7.08127337 5.23101118 7.75327652 3.07515955
 4.39884142 0.96355927 4.82072861 3.74298018 7.56027838 8.15136671
 7.85258791 8.12326333 1.37019127 0.08554606 4.66026805 6.55445663
 6.14355141 6.76824891]
[6, 9, 375, 701, 158, 677, 509, 357, 260, 377, 661, 724, 402, 680, 778, 180, 480, 511, 341, 96, 549, 562, 55, 313, 619, 847, 472, 769, 16, 691, 18, 432, 296, 342, 455, 409, 811, 781, 94, 247, 545, 726, 165, 603, 224, 530, 630, 128, 148, 376, 458, 830, 428, 679, 704, 401, 418, 290, 771, 695, 281, 326, 314, 336, 397, 586, 240, 783, 249, 572, 294, 743, 100, 490, 32, 328, 440, 461, 54, 22, 565, 625, 629, 259, 842, 636, 753, 542, 29, 114, 654, 711, 120, 75, 325, 759, 445, 561, 47, 544, 826, 133, 525, 417, 291, 515, 70, 231, 274, 505, 436, 134, 584, 179, 765, 126, 536, 69, 707, 814, 488, 838, 65, 777, 316, 368, 426, 430, 594, 624, 506]


[8.60289324 5.71779849 6.00491354 6.96021061 0.26268887 0.61214842
 0.62755191 1.16907679 5.74653014 0.81165558 1.45427556 0.88522342
 6.46406883 1.64011161 8.21482447 0.57493094 1.79983178 2.28957021
 7.0591126  5.46796608]
[13, 213, 51, 812, 413, 379, 498, 239, 394, 406, 513, 740, 366, 507, 615, 534, 735, 716, 143, 443, 798, 205, 360, 611, 671, 33, 627, 245, 365, 147, 532, 209, 161, 405, 324, 256, 650, 805, 332, 504, 763, 35, 226, 23, 244, 427, 447, 656, 71, 243, 337, 844, 631, 367, 829, 278, 840, 78, 312, 715, 271, 107, 307, 539, 578, 670, 761, 823, 745, 236, 419, 481, 714, 50, 223, 787, 541, 702, 843, 508, 378, 385, 496, 522, 632, 645, 383, 182, 28, 676, 266, 41, 62, 552, 255, 487, 122, 334, 303, 105, 157, 227, 739, 178, 822, 372, 190, 280, 262, 827, 343, 710, 215, 784, 390, 361, 815, 555, 452, 659, 129, 495, 17, 433, 177, 395, 403, 500, 242, 601, 131, 77, 832, 573, 166, 285, 757, 690, 399, 448, 512, 466, 384, 567, 607, 569, 722, 74, 424, 26, 234, 339, 579, 393, 494, 705, 49, 655, 282, 776, 202]]


"""